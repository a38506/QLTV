<!DOCTYPE html>
<html>
<head>
    <title>Thêm Sách Mới</title>
</head>
    <h1>Thêm Sách Mới</h1>
<body>
    <form id="addBookForm">
        <label for="IDBook">ID sách:</label>
        <input type="text" id="IDBook" name="IDBook" required><br><br>

        <label for="NameBook">Tên sách:</label>
        <input type="text" id="NameBook" name="NameBook" ><br><br>

        <label for="author">Tác giả:</label>
        <input type="text" id="author" name="author" ><br><br>

        <label for="major">Chuyên ngành:</label>
        <input type="text" id="major" name="major" ><br><br>

        <label for="quantity">Số lượng:</label>
        <input type="number" id="quantity" name="quantity"><br><br>
            
        <button type="button" onclick="addBookForm()">Lưu</button>
    </form>

    <script >
    async function addBookForm() {
        const IDBook = document.getElementById('IDBook').value;
        const NameBook = document.getElementById('NameBook').value;
        const author = document.getElementById('author').value;
        const major = document.getElementById('major').value;
        const quantity = document.getElementById('quantity').value;
    
        const data = {
            IDBook: IDBook,
            NameBook: NameBook,
            author: author,
            major: major,
            quantity: quantity
        };
    
        try {
            const response = await fetch('http://localhost:5732/api/book/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json',
                    'mode': 'cors'
                },
                body: JSON.stringify(data)
            });
    
            const result = await response.json();
            console.log(result);
            console.log("Sách đã được thêm thành công");
            
        } catch (error) {
            console.error('Lỗi:', error);
            console.log("Lỗi thêm sách: " + error.message);
        }
    }
    </script>
</body>
</html>
